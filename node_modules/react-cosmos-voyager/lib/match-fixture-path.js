'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _fixtureExtensions = require('./fixture-extensions');

var buildPathMatchers = function buildPathMatchers(componentName) {
  return ['/__fixtures__/' + componentName + '/([^/]+)\\.(' + _fixtureExtensions.FIXTURE_EXTENSIONS_REGEX + ')$', '/' + componentName + '/(?:.+/)?__fixtures__/([^/]+)\\.(' + _fixtureExtensions.FIXTURE_EXTENSIONS_REGEX + ')$', '/' + componentName + '/([^/]+)\\.(' + _fixtureExtensions.FIXTURE_EXTENSIONS_REGEX + ')$'];
};

/**
 * Determine whether fixture belongs to component and return the fixture's
 * clean path when true.
 */
var matchFixturePath = function matchFixturePath(fixturePath, componentName) {
  var matchers = buildPathMatchers(componentName);

  for (var i = 0; i < matchers.length; i += 1) {
    var matchResult = fixturePath.match(new RegExp(matchers[i]));
    if (matchResult) {
      return matchResult[1];
    }
  }

  return false;
};

exports.default = matchFixturePath;